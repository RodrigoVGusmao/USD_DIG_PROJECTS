package prova2;

import java.util.function.DoublePredicate;

import javax.swing.JOptionPane;

public class Prova {

	public static void main(String[] args) {
		double base;
		double exp;
		try {
			base = entradaDouble("Base:", "Entrada inválida", (a) -> {return a >= 0 ? true : false;});
			exp = entradaDouble("Expoente:", "Entrada inválida", (a) -> {return a >= 0 ? true : false;});
		} catch(NullPointerException e)
		{
			return;
		}
		
		//double resultado = Math.pow(base, exp);
		int resultado = Calculo.potencia((int)base, (int)exp);
		
		JOptionPane.showMessageDialog(null, resultado);
	}
	
	private static double entradaDouble(String txt, String erro, DoublePredicate op)
	{
		double ret;
		while(true)
		{
			try {
				ret = Double.parseDouble(JOptionPane.showInputDialog(txt));
				if(op.test(ret))
					break;
				throw new NumberFormatException("Value out of range");
			} catch(NumberFormatException e)
			{
				JOptionPane.showMessageDialog(null, erro + "\nErro:" + e.getMessage());
			}
		}
		return ret;
	}
}
