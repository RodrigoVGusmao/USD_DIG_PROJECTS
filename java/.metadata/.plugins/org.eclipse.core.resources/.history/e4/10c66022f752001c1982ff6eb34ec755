package jogadores;

import velha.Velha;

public class RecordedPlayer implements Jogador {

	private int jogador;
	private String[] jogo;
	
	RecordedPlayer(String[] jogo, int jogador)
	{
		this.jogador = jogador;
		this.jogo = jogo;
	}
	
	@Override
	public int loop(Velha velha) {
		// TODO Auto-generated method stub
		int turno = velha.camposPreenchidos();
		int jogada = Integer.parseInt(jogo[turno], 4);
		if(turno > 0)
		{
			jogada ^= Integer.parseInt(jogo[turno-1], 4);
		}
		return fazerJogada(velha, retornarIndex(jogada));
	}

	@Override
	public int fazerJogada(Velha velha, int index) {
		// TODO Auto-generated method stub
		return velha.fazerJogada(index, jogador);
	}

	@Override
	public void reiniciar() {
		// TODO Auto-generated method stub
		
	}

	private int retornarIndex(int jogada)
	{
		int temp = jogada;
		int i;
		for(i = 0; temp != 0; ++i)
		{
			temp = jogada << ((i+1)*2);
		}
		return i;
	}
}
